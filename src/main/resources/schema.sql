-- src/test/resources/schema.sql

CREATE TABLE IF NOT EXISTS DL_AGENT (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    state VARCHAR(50) NOT NULL, -- Storing enum as VARCHAR
    team_id BIGINT,
    phone_number VARCHAR(20) NOT NULL UNIQUE,
    unique_id VARCHAR(255) NOT NULL UNIQUE,
    joining_date DATE NOT NULL,
    termination_date DATE,
    designation VARCHAR(50) NOT NULL -- Storing enum as VARCHAR
);

-- New table for CatalogEntity
CREATE TABLE IF NOT EXISTS DL_CATALOG (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    type VARCHAR(50) NOT NULL, -- Stores enum as VARCHAR
    name VARCHAR(255) NOT NULL,
    unit VARCHAR(50) NOT NULL, -- Stores enum as VARCHAR
    unit_price DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS DL_GEOFENCE (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    STORE_ID BIGINT NOT NULL,
    POLYGON_COORDINATES TEXT NOT NULL, -- Updated column name
    GEOFENCE_TYPE VARCHAR(50) NOT NULL, -- Updated column name
    NAME VARCHAR(255) NOT NULL,
    ACTIVE BOOLEAN NOT NULL
);